<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sinosoft.ummp.domain.mapper.TDocMainMapper">
  <resultMap id="BaseResultMap" type="com.sinosoft.ummp.domain.model.TDocMain">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    <id column="DOC_ID" jdbcType="DECIMAL" property="docId" />
    <result column="BATCH_NO" jdbcType="VARCHAR" property="batchNo" />
    <result column="TRANS_NO" jdbcType="VARCHAR" property="transNo" />
    <result column="DOC_CODE" jdbcType="VARCHAR" property="docCode" />
    <result column="DOC_UNIC" jdbcType="VARCHAR" property="docUnic" />
    <result column="BUSS_TYPE" jdbcType="VARCHAR" property="bussType" />
    <result column="SUB_BUSS_TYPE" jdbcType="VARCHAR" property="subBussType" />
    <result column="DOC_PAGES" jdbcType="DECIMAL" property="docPages" />
    <result column="ACTION_TIMES" jdbcType="DECIMAL" property="actionTimes" />
    <result column="DOC_FLAG" jdbcType="VARCHAR" property="docFlag" />
    <result column="DOC_REMARK" jdbcType="VARCHAR" property="docRemark" />
    <result column="COM_ID" jdbcType="VARCHAR" property="comId" />
    <result column="ES_STATUS" jdbcType="DECIMAL" property="esStatus" />
    <result column="SCAN_OPERATOR" jdbcType="VARCHAR" property="scanOperator" />
    <result column="INSERT_TIME" jdbcType="DATE" property="insertTime" />
    <result column="LAST_MODIFY_TIME" jdbcType="DATE" property="lastModifyTime" />
    <result column="OPERATOR" jdbcType="VARCHAR" property="operator" />
    <result column="VERSION" jdbcType="VARCHAR" property="version" />
    <result column="PRINT_CODE" jdbcType="VARCHAR" property="printCode" />
    <result column="ACTION_FLAG" jdbcType="VARCHAR" property="actionFlag" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    DOC_ID, BATCH_NO, TRANS_NO, DOC_CODE, DOC_UNIC, BUSS_TYPE, SUB_BUSS_TYPE, DOC_PAGES, 
    ACTION_TIMES, DOC_FLAG, DOC_REMARK, COM_ID, ES_STATUS, SCAN_OPERATOR, INSERT_TIME, 
    LAST_MODIFY_TIME, OPERATOR, VERSION, PRINT_CODE, ACTION_FLAG
  </sql>
  <select id="selectByExample" parameterType="com.sinosoft.ummp.domain.model.TDocMainExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from T_DOC_MAIN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from T_DOC_MAIN
    where DOC_ID = #{docId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    delete from T_DOC_MAIN
    where DOC_ID = #{docId,jdbcType=DECIMAL}
  </delete>
  <delete id="deleteByExample" parameterType="com.sinosoft.ummp.domain.model.TDocMainExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    delete from T_DOC_MAIN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.sinosoft.ummp.domain.model.TDocMain">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    insert into T_DOC_MAIN (DOC_ID, BATCH_NO, TRANS_NO, 
      DOC_CODE, DOC_UNIC, BUSS_TYPE, 
      SUB_BUSS_TYPE, DOC_PAGES, ACTION_TIMES, 
      DOC_FLAG, DOC_REMARK, COM_ID, 
      ES_STATUS, SCAN_OPERATOR, INSERT_TIME, 
      LAST_MODIFY_TIME, OPERATOR, VERSION, 
      PRINT_CODE, ACTION_FLAG)
    values (#{docId,jdbcType=DECIMAL}, #{batchNo,jdbcType=VARCHAR}, #{transNo,jdbcType=VARCHAR}, 
      #{docCode,jdbcType=VARCHAR}, #{docUnic,jdbcType=VARCHAR}, #{bussType,jdbcType=VARCHAR}, 
      #{subBussType,jdbcType=VARCHAR}, #{docPages,jdbcType=DECIMAL}, #{actionTimes,jdbcType=DECIMAL}, 
      #{docFlag,jdbcType=VARCHAR}, #{docRemark,jdbcType=VARCHAR}, #{comId,jdbcType=VARCHAR}, 
      #{esStatus,jdbcType=DECIMAL}, #{scanOperator,jdbcType=VARCHAR}, #{insertTime,jdbcType=DATE}, 
      #{lastModifyTime,jdbcType=DATE}, #{operator,jdbcType=VARCHAR}, #{version,jdbcType=VARCHAR}, 
      #{printCode,jdbcType=VARCHAR}, #{actionFlag,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.sinosoft.ummp.domain.model.TDocMain">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    insert into T_DOC_MAIN
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="docId != null">
        DOC_ID,
      </if>
      <if test="batchNo != null">
        BATCH_NO,
      </if>
      <if test="transNo != null">
        TRANS_NO,
      </if>
      <if test="docCode != null">
        DOC_CODE,
      </if>
      <if test="docUnic != null">
        DOC_UNIC,
      </if>
      <if test="bussType != null">
        BUSS_TYPE,
      </if>
      <if test="subBussType != null">
        SUB_BUSS_TYPE,
      </if>
      <if test="docPages != null">
        DOC_PAGES,
      </if>
      <if test="actionTimes != null">
        ACTION_TIMES,
      </if>
      <if test="docFlag != null">
        DOC_FLAG,
      </if>
      <if test="docRemark != null">
        DOC_REMARK,
      </if>
      <if test="comId != null">
        COM_ID,
      </if>
      <if test="esStatus != null">
        ES_STATUS,
      </if>
      <if test="scanOperator != null">
        SCAN_OPERATOR,
      </if>
      <if test="insertTime != null">
        INSERT_TIME,
      </if>
      <if test="lastModifyTime != null">
        LAST_MODIFY_TIME,
      </if>
      <if test="operator != null">
        OPERATOR,
      </if>
      <if test="version != null">
        VERSION,
      </if>
      <if test="printCode != null">
        PRINT_CODE,
      </if>
      <if test="actionFlag != null">
        ACTION_FLAG,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="docId != null">
        #{docId,jdbcType=DECIMAL},
      </if>
      <if test="batchNo != null">
        #{batchNo,jdbcType=VARCHAR},
      </if>
      <if test="transNo != null">
        #{transNo,jdbcType=VARCHAR},
      </if>
      <if test="docCode != null">
        #{docCode,jdbcType=VARCHAR},
      </if>
      <if test="docUnic != null">
        #{docUnic,jdbcType=VARCHAR},
      </if>
      <if test="bussType != null">
        #{bussType,jdbcType=VARCHAR},
      </if>
      <if test="subBussType != null">
        #{subBussType,jdbcType=VARCHAR},
      </if>
      <if test="docPages != null">
        #{docPages,jdbcType=DECIMAL},
      </if>
      <if test="actionTimes != null">
        #{actionTimes,jdbcType=DECIMAL},
      </if>
      <if test="docFlag != null">
        #{docFlag,jdbcType=VARCHAR},
      </if>
      <if test="docRemark != null">
        #{docRemark,jdbcType=VARCHAR},
      </if>
      <if test="comId != null">
        #{comId,jdbcType=VARCHAR},
      </if>
      <if test="esStatus != null">
        #{esStatus,jdbcType=DECIMAL},
      </if>
      <if test="scanOperator != null">
        #{scanOperator,jdbcType=VARCHAR},
      </if>
      <if test="insertTime != null">
        #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null">
        #{lastModifyTime,jdbcType=DATE},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="version != null">
        #{version,jdbcType=VARCHAR},
      </if>
      <if test="printCode != null">
        #{printCode,jdbcType=VARCHAR},
      </if>
      <if test="actionFlag != null">
        #{actionFlag,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.sinosoft.ummp.domain.model.TDocMainExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    select count(*) from T_DOC_MAIN
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    update T_DOC_MAIN
    <set>
      <if test="record.docId != null">
        DOC_ID = #{record.docId,jdbcType=DECIMAL},
      </if>
      <if test="record.batchNo != null">
        BATCH_NO = #{record.batchNo,jdbcType=VARCHAR},
      </if>
      <if test="record.transNo != null">
        TRANS_NO = #{record.transNo,jdbcType=VARCHAR},
      </if>
      <if test="record.docCode != null">
        DOC_CODE = #{record.docCode,jdbcType=VARCHAR},
      </if>
      <if test="record.docUnic != null">
        DOC_UNIC = #{record.docUnic,jdbcType=VARCHAR},
      </if>
      <if test="record.bussType != null">
        BUSS_TYPE = #{record.bussType,jdbcType=VARCHAR},
      </if>
      <if test="record.subBussType != null">
        SUB_BUSS_TYPE = #{record.subBussType,jdbcType=VARCHAR},
      </if>
      <if test="record.docPages != null">
        DOC_PAGES = #{record.docPages,jdbcType=DECIMAL},
      </if>
      <if test="record.actionTimes != null">
        ACTION_TIMES = #{record.actionTimes,jdbcType=DECIMAL},
      </if>
      <if test="record.docFlag != null">
        DOC_FLAG = #{record.docFlag,jdbcType=VARCHAR},
      </if>
      <if test="record.docRemark != null">
        DOC_REMARK = #{record.docRemark,jdbcType=VARCHAR},
      </if>
      <if test="record.comId != null">
        COM_ID = #{record.comId,jdbcType=VARCHAR},
      </if>
      <if test="record.esStatus != null">
        ES_STATUS = #{record.esStatus,jdbcType=DECIMAL},
      </if>
      <if test="record.scanOperator != null">
        SCAN_OPERATOR = #{record.scanOperator,jdbcType=VARCHAR},
      </if>
      <if test="record.insertTime != null">
        INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      </if>
      <if test="record.lastModifyTime != null">
        LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE},
      </if>
      <if test="record.operator != null">
        OPERATOR = #{record.operator,jdbcType=VARCHAR},
      </if>
      <if test="record.version != null">
        VERSION = #{record.version,jdbcType=VARCHAR},
      </if>
      <if test="record.printCode != null">
        PRINT_CODE = #{record.printCode,jdbcType=VARCHAR},
      </if>
      <if test="record.actionFlag != null">
        ACTION_FLAG = #{record.actionFlag,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    update T_DOC_MAIN
    set DOC_ID = #{record.docId,jdbcType=DECIMAL},
      BATCH_NO = #{record.batchNo,jdbcType=VARCHAR},
      TRANS_NO = #{record.transNo,jdbcType=VARCHAR},
      DOC_CODE = #{record.docCode,jdbcType=VARCHAR},
      DOC_UNIC = #{record.docUnic,jdbcType=VARCHAR},
      BUSS_TYPE = #{record.bussType,jdbcType=VARCHAR},
      SUB_BUSS_TYPE = #{record.subBussType,jdbcType=VARCHAR},
      DOC_PAGES = #{record.docPages,jdbcType=DECIMAL},
      ACTION_TIMES = #{record.actionTimes,jdbcType=DECIMAL},
      DOC_FLAG = #{record.docFlag,jdbcType=VARCHAR},
      DOC_REMARK = #{record.docRemark,jdbcType=VARCHAR},
      COM_ID = #{record.comId,jdbcType=VARCHAR},
      ES_STATUS = #{record.esStatus,jdbcType=DECIMAL},
      SCAN_OPERATOR = #{record.scanOperator,jdbcType=VARCHAR},
      INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE},
      OPERATOR = #{record.operator,jdbcType=VARCHAR},
      VERSION = #{record.version,jdbcType=VARCHAR},
      PRINT_CODE = #{record.printCode,jdbcType=VARCHAR},
      ACTION_FLAG = #{record.actionFlag,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.sinosoft.ummp.domain.model.TDocMain">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    update T_DOC_MAIN
    <set>
      <if test="batchNo != null">
        BATCH_NO = #{batchNo,jdbcType=VARCHAR},
      </if>
      <if test="transNo != null">
        TRANS_NO = #{transNo,jdbcType=VARCHAR},
      </if>
      <if test="docCode != null">
        DOC_CODE = #{docCode,jdbcType=VARCHAR},
      </if>
      <if test="docUnic != null">
        DOC_UNIC = #{docUnic,jdbcType=VARCHAR},
      </if>
      <if test="bussType != null">
        BUSS_TYPE = #{bussType,jdbcType=VARCHAR},
      </if>
      <if test="subBussType != null">
        SUB_BUSS_TYPE = #{subBussType,jdbcType=VARCHAR},
      </if>
      <if test="docPages != null">
        DOC_PAGES = #{docPages,jdbcType=DECIMAL},
      </if>
      <if test="actionTimes != null">
        ACTION_TIMES = #{actionTimes,jdbcType=DECIMAL},
      </if>
      <if test="docFlag != null">
        DOC_FLAG = #{docFlag,jdbcType=VARCHAR},
      </if>
      <if test="docRemark != null">
        DOC_REMARK = #{docRemark,jdbcType=VARCHAR},
      </if>
      <if test="comId != null">
        COM_ID = #{comId,jdbcType=VARCHAR},
      </if>
      <if test="esStatus != null">
        ES_STATUS = #{esStatus,jdbcType=DECIMAL},
      </if>
      <if test="scanOperator != null">
        SCAN_OPERATOR = #{scanOperator,jdbcType=VARCHAR},
      </if>
      <if test="insertTime != null">
        INSERT_TIME = #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null">
        LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE},
      </if>
      <if test="operator != null">
        OPERATOR = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="version != null">
        VERSION = #{version,jdbcType=VARCHAR},
      </if>
      <if test="printCode != null">
        PRINT_CODE = #{printCode,jdbcType=VARCHAR},
      </if>
      <if test="actionFlag != null">
        ACTION_FLAG = #{actionFlag,jdbcType=VARCHAR},
      </if>
    </set>
    where DOC_ID = #{docId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sinosoft.ummp.domain.model.TDocMain">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Sep 07 15:38:40 CST 2016.
    -->
    update T_DOC_MAIN
    set BATCH_NO = #{batchNo,jdbcType=VARCHAR},
      TRANS_NO = #{transNo,jdbcType=VARCHAR},
      DOC_CODE = #{docCode,jdbcType=VARCHAR},
      DOC_UNIC = #{docUnic,jdbcType=VARCHAR},
      BUSS_TYPE = #{bussType,jdbcType=VARCHAR},
      SUB_BUSS_TYPE = #{subBussType,jdbcType=VARCHAR},
      DOC_PAGES = #{docPages,jdbcType=DECIMAL},
      ACTION_TIMES = #{actionTimes,jdbcType=DECIMAL},
      DOC_FLAG = #{docFlag,jdbcType=VARCHAR},
      DOC_REMARK = #{docRemark,jdbcType=VARCHAR},
      COM_ID = #{comId,jdbcType=VARCHAR},
      ES_STATUS = #{esStatus,jdbcType=DECIMAL},
      SCAN_OPERATOR = #{scanOperator,jdbcType=VARCHAR},
      INSERT_TIME = #{insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE},
      OPERATOR = #{operator,jdbcType=VARCHAR},
      VERSION = #{version,jdbcType=VARCHAR},
      PRINT_CODE = #{printCode,jdbcType=VARCHAR},
      ACTION_FLAG = #{actionFlag,jdbcType=VARCHAR}
    where DOC_ID = #{docId,jdbcType=DECIMAL}
  </update>
  <sql id="queryFile">
  	   SELECT DISTINCT A.BATCH_NO as BATCHNO,
                     A.SUB_BUSS_TYPE as SUBBUSSTYPE,
                     B.PAGE_NAME as PAGENAME,
                     TO_CHAR(T.TRANSDATE, 'yyyy-mm-dd') AS TRANSDATE,
                     T.STATEFLAG,
                     (SELECT CODE_NAME
                        FROM T_DEF_CODE_DICT
                       WHERE CODE_TYPE = 'BUSSFLAG'
                         AND CODE = T.STATEFLAG) AS STATEFLAGNAME,
                     A.DOC_ID as DOCID,
                     TO_CHAR(A.INSERT_TIME, 'yyyy-mm-dd') AS INSERTTIME
       FROM T_PRP_LCPOLTRANSACTION T 
       LEFT JOIN T_DOC_MAIN A ON A.batch_no = T.Batchno
       LEFT JOIN T_DOC_PAGES B ON B.DOC_ID = A.Doc_Id
       WHERE 1=1
  </sql>
  <select id="listCount" resultType="java.lang.Integer" parameterType="java.util.Map">
  	select count(*) from (
  		<include refid="queryFile"/>
  		<if test="stateFlag != null and stateFlag != ''">
         AND T.STATEFLAG = #{stateFlag,jdbcType=VARCHAR}
        </if>
        <if test="stateFlag == null or stateFlag == ''">
		 AND T.STATEFLAG in ('1','2','3')
		</if>
        <if test="transType != null and transType != ''">
         AND T.transType = #{transType,jdbcType=VARCHAR}
        </if>
        <if test="batchNo != null and batchNo != ''">
         AND T.batchNo = #{transType,jdbcType=VARCHAR}
        </if>
  	)
  </select>
  <select id="listFile" resultType="java.util.Map" parameterType="java.util.Map">
	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (
		         <include refid="queryFile"/>
		         <if test="stateFlag != null and stateFlag != ''">
		          AND T.STATEFLAG = #{stateFlag,jdbcType=VARCHAR}
		         </if>
		         <if test="stateFlag == null or stateFlag == ''">
		          AND T.STATEFLAG in ('1','2','3')
		         </if>
		         <if test="transType != null and transType != ''">
		          AND T.transType = #{transType,jdbcType=VARCHAR}
		         </if>
		         <if test="batchNo != null and batchNo != ''">
		          AND T.batchNo = #{transType,jdbcType=VARCHAR}
		         </if>
		         ORDER BY INSERTTIME DESC
			 ) nAlias
		) tAlias where r_rownum >=#{queryStartIndex} and #{queryEndIndex} >= r_rownum
  </select>
  <select id="queryInfo" resultType="java.util.Map">
  	SELECT DISTINCT A.BATCH_NO, T.TRANSTYPE, B.PAGE_NAME
  	FROM T_DOC_MAIN A, T_DOC_PAGES B, T_PRP_LCPOLTRANSACTION T
	 WHERE A.DOC_ID = B.DOC_ID
	   AND A.COM_ID = 1
	   AND T.BATCHNO = A.BATCH_NO
	   AND T.STATEFLAG = '2'
  </select>
</mapper>