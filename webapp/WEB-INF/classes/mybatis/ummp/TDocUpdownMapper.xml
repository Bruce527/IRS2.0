<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sinosoft.ummp.domain.mapper.TDocUpdownMapper" >
  <resultMap id="BaseResultMap" type="com.sinosoft.ummp.domain.model.TDocUpdown" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    <id column="DOC_NAME" property="docName" jdbcType="VARCHAR" />
    <id column="DOC_TYPE" property="docType" jdbcType="VARCHAR" />
    <id column="DOC_SUFFIX" property="docSuffix" jdbcType="VARCHAR" />
    <result column="DOC_MAKE_TIME" property="docMakeTime" jdbcType="DATE" />
    <result column="DOC_MAKER" property="docMaker" jdbcType="VARCHAR" />
    <result column="DOC_MODIFY_TIME" property="docModifyTime" jdbcType="DATE" />
    <result column="DOC_PATH" property="docPath" jdbcType="VARCHAR" />
    <result column="HOST_NAME" property="hostName" jdbcType="VARCHAR" />
    <result column="DOWN_TIMES" property="downTimes" jdbcType="DECIMAL" />
    <result column="STAND_FLAG1" property="standFlag1" jdbcType="VARCHAR" />
    <result column="STAND_FLAG2" property="standFlag2" jdbcType="VARCHAR" />
    <result column="OPERATOR" property="operator" jdbcType="VARCHAR" />
    <result column="INSERT_TIME" property="insertTime" jdbcType="DATE" />
    <result column="LAST_MODIFY_TIME" property="lastModifyTime" jdbcType="DATE" />
  </resultMap>
  <sql id="Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    DOC_NAME, DOC_TYPE, DOC_SUFFIX, DOC_MAKE_TIME, DOC_MAKER, DOC_MODIFY_TIME, DOC_PATH, 
    HOST_NAME, DOWN_TIMES, STAND_FLAG1, STAND_FLAG2, OPERATOR, INSERT_TIME, LAST_MODIFY_TIME
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.sinosoft.ummp.domain.model.TDocUpdownExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from T_DOC_UPDOWN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.sinosoft.ummp.domain.model.TDocUpdownKey" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from T_DOC_UPDOWN
    where DOC_NAME = #{docName,jdbcType=VARCHAR}
      and DOC_TYPE = #{docType,jdbcType=VARCHAR}
      and DOC_SUFFIX = #{docSuffix,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.sinosoft.ummp.domain.model.TDocUpdownKey" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    delete from T_DOC_UPDOWN
    where DOC_NAME = #{docName,jdbcType=VARCHAR}
      and DOC_TYPE = #{docType,jdbcType=VARCHAR}
      and DOC_SUFFIX = #{docSuffix,jdbcType=VARCHAR}
  </delete>
  <delete id="deleteByExample" parameterType="com.sinosoft.ummp.domain.model.TDocUpdownExample" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    delete from T_DOC_UPDOWN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.sinosoft.ummp.domain.model.TDocUpdown" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    insert into T_DOC_UPDOWN (DOC_NAME, DOC_TYPE, DOC_SUFFIX, 
      DOC_MAKE_TIME, DOC_MAKER, DOC_MODIFY_TIME, 
      DOC_PATH, HOST_NAME, DOWN_TIMES, 
      STAND_FLAG1, STAND_FLAG2, OPERATOR, 
      INSERT_TIME, LAST_MODIFY_TIME)
    values (#{docName,jdbcType=VARCHAR}, #{docType,jdbcType=VARCHAR}, #{docSuffix,jdbcType=VARCHAR}, 
      #{docMakeTime,jdbcType=DATE}, #{docMaker,jdbcType=VARCHAR}, #{docModifyTime,jdbcType=DATE}, 
      #{docPath,jdbcType=VARCHAR}, #{hostName,jdbcType=VARCHAR}, #{downTimes,jdbcType=DECIMAL}, 
      #{standFlag1,jdbcType=VARCHAR}, #{standFlag2,jdbcType=VARCHAR}, #{operator,jdbcType=VARCHAR}, 
      #{insertTime,jdbcType=DATE}, #{lastModifyTime,jdbcType=DATE})
  </insert>
  <insert id="insertSelective" parameterType="com.sinosoft.ummp.domain.model.TDocUpdown" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    insert into T_DOC_UPDOWN
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="docName != null" >
        DOC_NAME,
      </if>
      <if test="docType != null" >
        DOC_TYPE,
      </if>
      <if test="docSuffix != null" >
        DOC_SUFFIX,
      </if>
      <if test="docMakeTime != null" >
        DOC_MAKE_TIME,
      </if>
      <if test="docMaker != null" >
        DOC_MAKER,
      </if>
      <if test="docModifyTime != null" >
        DOC_MODIFY_TIME,
      </if>
      <if test="docPath != null" >
        DOC_PATH,
      </if>
      <if test="hostName != null" >
        HOST_NAME,
      </if>
      <if test="downTimes != null" >
        DOWN_TIMES,
      </if>
      <if test="standFlag1 != null" >
        STAND_FLAG1,
      </if>
      <if test="standFlag2 != null" >
        STAND_FLAG2,
      </if>
      <if test="operator != null" >
        OPERATOR,
      </if>
      <if test="insertTime != null" >
        INSERT_TIME,
      </if>
      <if test="lastModifyTime != null" >
        LAST_MODIFY_TIME,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="docName != null" >
        #{docName,jdbcType=VARCHAR},
      </if>
      <if test="docType != null" >
        #{docType,jdbcType=VARCHAR},
      </if>
      <if test="docSuffix != null" >
        #{docSuffix,jdbcType=VARCHAR},
      </if>
      <if test="docMakeTime != null" >
        #{docMakeTime,jdbcType=DATE},
      </if>
      <if test="docMaker != null" >
        #{docMaker,jdbcType=VARCHAR},
      </if>
      <if test="docModifyTime != null" >
        #{docModifyTime,jdbcType=DATE},
      </if>
      <if test="docPath != null" >
        #{docPath,jdbcType=VARCHAR},
      </if>
      <if test="hostName != null" >
        #{hostName,jdbcType=VARCHAR},
      </if>
      <if test="downTimes != null" >
        #{downTimes,jdbcType=DECIMAL},
      </if>
      <if test="standFlag1 != null" >
        #{standFlag1,jdbcType=VARCHAR},
      </if>
      <if test="standFlag2 != null" >
        #{standFlag2,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="insertTime != null" >
        #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null" >
        #{lastModifyTime,jdbcType=DATE},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.sinosoft.ummp.domain.model.TDocUpdownExample" resultType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    select count(*) from T_DOC_UPDOWN
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    update T_DOC_UPDOWN
    <set >
      <if test="record.docName != null" >
        DOC_NAME = #{record.docName,jdbcType=VARCHAR},
      </if>
      <if test="record.docType != null" >
        DOC_TYPE = #{record.docType,jdbcType=VARCHAR},
      </if>
      <if test="record.docSuffix != null" >
        DOC_SUFFIX = #{record.docSuffix,jdbcType=VARCHAR},
      </if>
      <if test="record.docMakeTime != null" >
        DOC_MAKE_TIME = #{record.docMakeTime,jdbcType=DATE},
      </if>
      <if test="record.docMaker != null" >
        DOC_MAKER = #{record.docMaker,jdbcType=VARCHAR},
      </if>
      <if test="record.docModifyTime != null" >
        DOC_MODIFY_TIME = #{record.docModifyTime,jdbcType=DATE},
      </if>
      <if test="record.docPath != null" >
        DOC_PATH = #{record.docPath,jdbcType=VARCHAR},
      </if>
      <if test="record.hostName != null" >
        HOST_NAME = #{record.hostName,jdbcType=VARCHAR},
      </if>
      <if test="record.downTimes != null" >
        DOWN_TIMES = #{record.downTimes,jdbcType=DECIMAL},
      </if>
      <if test="record.standFlag1 != null" >
        STAND_FLAG1 = #{record.standFlag1,jdbcType=VARCHAR},
      </if>
      <if test="record.standFlag2 != null" >
        STAND_FLAG2 = #{record.standFlag2,jdbcType=VARCHAR},
      </if>
      <if test="record.operator != null" >
        OPERATOR = #{record.operator,jdbcType=VARCHAR},
      </if>
      <if test="record.insertTime != null" >
        INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      </if>
      <if test="record.lastModifyTime != null" >
        LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    update T_DOC_UPDOWN
    set DOC_NAME = #{record.docName,jdbcType=VARCHAR},
      DOC_TYPE = #{record.docType,jdbcType=VARCHAR},
      DOC_SUFFIX = #{record.docSuffix,jdbcType=VARCHAR},
      DOC_MAKE_TIME = #{record.docMakeTime,jdbcType=DATE},
      DOC_MAKER = #{record.docMaker,jdbcType=VARCHAR},
      DOC_MODIFY_TIME = #{record.docModifyTime,jdbcType=DATE},
      DOC_PATH = #{record.docPath,jdbcType=VARCHAR},
      HOST_NAME = #{record.hostName,jdbcType=VARCHAR},
      DOWN_TIMES = #{record.downTimes,jdbcType=DECIMAL},
      STAND_FLAG1 = #{record.standFlag1,jdbcType=VARCHAR},
      STAND_FLAG2 = #{record.standFlag2,jdbcType=VARCHAR},
      OPERATOR = #{record.operator,jdbcType=VARCHAR},
      INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.sinosoft.ummp.domain.model.TDocUpdown" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    update T_DOC_UPDOWN
    <set >
      <if test="docMakeTime != null" >
        DOC_MAKE_TIME = #{docMakeTime,jdbcType=DATE},
      </if>
      <if test="docMaker != null" >
        DOC_MAKER = #{docMaker,jdbcType=VARCHAR},
      </if>
      <if test="docModifyTime != null" >
        DOC_MODIFY_TIME = #{docModifyTime,jdbcType=DATE},
      </if>
      <if test="docPath != null" >
        DOC_PATH = #{docPath,jdbcType=VARCHAR},
      </if>
      <if test="hostName != null" >
        HOST_NAME = #{hostName,jdbcType=VARCHAR},
      </if>
      <if test="downTimes != null" >
        DOWN_TIMES = #{downTimes,jdbcType=DECIMAL},
      </if>
      <if test="standFlag1 != null" >
        STAND_FLAG1 = #{standFlag1,jdbcType=VARCHAR},
      </if>
      <if test="standFlag2 != null" >
        STAND_FLAG2 = #{standFlag2,jdbcType=VARCHAR},
      </if>
      <if test="operator != null" >
        OPERATOR = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="insertTime != null" >
        INSERT_TIME = #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null" >
        LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE},
      </if>
    </set>
    where DOC_NAME = #{docName,jdbcType=VARCHAR}
      and DOC_TYPE = #{docType,jdbcType=VARCHAR}
      and DOC_SUFFIX = #{docSuffix,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sinosoft.ummp.domain.model.TDocUpdown" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Jul 27 14:30:04 CST 2016.
    -->
    update T_DOC_UPDOWN
    set DOC_MAKE_TIME = #{docMakeTime,jdbcType=DATE},
      DOC_MAKER = #{docMaker,jdbcType=VARCHAR},
      DOC_MODIFY_TIME = #{docModifyTime,jdbcType=DATE},
      DOC_PATH = #{docPath,jdbcType=VARCHAR},
      HOST_NAME = #{hostName,jdbcType=VARCHAR},
      DOWN_TIMES = #{downTimes,jdbcType=DECIMAL},
      STAND_FLAG1 = #{standFlag1,jdbcType=VARCHAR},
      STAND_FLAG2 = #{standFlag2,jdbcType=VARCHAR},
      OPERATOR = #{operator,jdbcType=VARCHAR},
      INSERT_TIME = #{insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE}
    where DOC_NAME = #{docName,jdbcType=VARCHAR}
      and DOC_TYPE = #{docType,jdbcType=VARCHAR}
      and DOC_SUFFIX = #{docSuffix,jdbcType=VARCHAR}
  </update>
  <sql id="querySql">
  	SELECT DOC_NAME,
       TO_CHAR(DOC_MAKE_TIME, 'yyyy-mm-dd') AS DOC_MAKE_TIME,
       TO_CHAR(LAST_MODIFY_TIME, 'yyyy-mm-dd hh24:mi:ss') AS LAST_MODIFY_TIME,
       DOWN_TIMES,DOC_TYPE,DOC_PATH
  	   FROM T_DOC_UPDOWN
  	   WHERE 1=1
	 <if test="fileType != null and fileType != ''" >	
	 	 AND DOC_TYPE = #{fileType,jdbcType=VARCHAR}
	 </if>	
	 <if test="startDate !=null and startDate != ''">
		 AND to_date(to_char(DOC_MAKE_TIME,'yyyy-mm-dd'),'yyyy-mm-dd')>=to_date(#{startDate,jdbcType=VARCHAR},'yyyy-mm-dd')
	 </if>	
	 <if test="endDate !=null and endDate != ''">	 
		 AND to_date(to_char(DOC_MAKE_TIME,'yyyy-mm-dd'),'yyyy-mm-dd')<![CDATA[<=]]>to_date(#{endDate,jdbcType=VARCHAR},'yyyy-mm-dd')
	 </if>		 
	 ORDER BY INSERT_TIME DESC
  </sql>
  <select id="queryFileList" resultType='java.util.Map' parameterType="java.util.Map">
  	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (
		         <include refid="querySql"/>
		         
			 ) nAlias
		) tAlias where r_rownum >=#{queryStartIndex} and #{queryEndIndex} >= r_rownum
  </select>
  <select id="countList" resultType="java.lang.Integer" parameterType="java.util.Map">
  	select count(*) from (
  		<include refid="querySql"/>
  	)
  </select>
</mapper>