<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sinosoft.ummp.domain.mapper.TDefTransexcMapper">
  <resultMap id="BaseResultMap" type="com.sinosoft.ummp.domain.model.TDefTransexc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    <id column="EXC_ID" jdbcType="DECIMAL" property="excId" />
    <result column="IMPL_ID" jdbcType="DECIMAL" property="implId" />
    <result column="COM_ID" jdbcType="DECIMAL" property="comId" />
    <result column="BUSS_ID" jdbcType="DECIMAL" property="bussId" />
    <result column="EXC_CODE" jdbcType="VARCHAR" property="excCode" />
    <result column="EXC_NAME" jdbcType="VARCHAR" property="excName" />
    <result column="EXC_DESC" jdbcType="VARCHAR" property="excDesc" />
    <result column="RC_STATUS" jdbcType="DECIMAL" property="rcStatus" />
    <result column="INSERT_TIME" jdbcType="DATE" property="insertTime" />
    <result column="LAST_MODIFY_TIME" jdbcType="DATE" property="lastModifyTime" />
    <result column="OPERATOR" jdbcType="VARCHAR" property="operator" />
    <result column="EXC_NUM" jdbcType="DECIMAL" property="excNum" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    EXC_ID, IMPL_ID, COM_ID, BUSS_ID, EXC_CODE, EXC_NAME, EXC_DESC, RC_STATUS, INSERT_TIME, 
    LAST_MODIFY_TIME, OPERATOR, EXC_NUM
  </sql>
  <select id="selectByExample" parameterType="com.sinosoft.ummp.domain.model.TDefTransexcExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from T_DEF_TRANSEXC
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from T_DEF_TRANSEXC
    where EXC_ID = #{excId,jdbcType=DECIMAL}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    delete from T_DEF_TRANSEXC
    where EXC_ID = #{excId,jdbcType=DECIMAL}
  </delete>
  <delete id="deleteByExample" parameterType="com.sinosoft.ummp.domain.model.TDefTransexcExample">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    delete from T_DEF_TRANSEXC
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.sinosoft.ummp.domain.model.TDefTransexc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    insert into T_DEF_TRANSEXC (EXC_ID, IMPL_ID, COM_ID, 
      BUSS_ID, EXC_CODE, EXC_NAME, 
      EXC_DESC, RC_STATUS, INSERT_TIME, 
      LAST_MODIFY_TIME, OPERATOR, EXC_NUM
      )
    values (#{excId,jdbcType=DECIMAL}, #{implId,jdbcType=DECIMAL}, #{comId,jdbcType=DECIMAL}, 
      #{bussId,jdbcType=DECIMAL}, #{excCode,jdbcType=VARCHAR}, #{excName,jdbcType=VARCHAR}, 
      #{excDesc,jdbcType=VARCHAR}, #{rcStatus,jdbcType=DECIMAL}, #{insertTime,jdbcType=DATE}, 
      #{lastModifyTime,jdbcType=DATE}, #{operator,jdbcType=VARCHAR}, #{excNum,jdbcType=DECIMAL}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.sinosoft.ummp.domain.model.TDefTransexc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    insert into T_DEF_TRANSEXC
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="excId != null">
        EXC_ID,
      </if>
      <if test="implId != null">
        IMPL_ID,
      </if>
      <if test="comId != null">
        COM_ID,
      </if>
      <if test="bussId != null">
        BUSS_ID,
      </if>
      <if test="excCode != null">
        EXC_CODE,
      </if>
      <if test="excName != null">
        EXC_NAME,
      </if>
      <if test="excDesc != null">
        EXC_DESC,
      </if>
      <if test="rcStatus != null">
        RC_STATUS,
      </if>
      <if test="insertTime != null">
        INSERT_TIME,
      </if>
      <if test="lastModifyTime != null">
        LAST_MODIFY_TIME,
      </if>
      <if test="operator != null">
        OPERATOR,
      </if>
      <if test="excNum != null">
        EXC_NUM,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="excId != null">
        #{excId,jdbcType=DECIMAL},
      </if>
      <if test="implId != null">
        #{implId,jdbcType=DECIMAL},
      </if>
      <if test="comId != null">
        #{comId,jdbcType=DECIMAL},
      </if>
      <if test="bussId != null">
        #{bussId,jdbcType=DECIMAL},
      </if>
      <if test="excCode != null">
        #{excCode,jdbcType=VARCHAR},
      </if>
      <if test="excName != null">
        #{excName,jdbcType=VARCHAR},
      </if>
      <if test="excDesc != null">
        #{excDesc,jdbcType=VARCHAR},
      </if>
      <if test="rcStatus != null">
        #{rcStatus,jdbcType=DECIMAL},
      </if>
      <if test="insertTime != null">
        #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null">
        #{lastModifyTime,jdbcType=DATE},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=VARCHAR},
      </if>
      <if test="excNum != null">
        #{excNum,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.sinosoft.ummp.domain.model.TDefTransexcExample" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    select count(*) from T_DEF_TRANSEXC
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    update T_DEF_TRANSEXC
    <set>
      <if test="record.excId != null">
        EXC_ID = #{record.excId,jdbcType=DECIMAL},
      </if>
      <if test="record.implId != null">
        IMPL_ID = #{record.implId,jdbcType=DECIMAL},
      </if>
      <if test="record.comId != null">
        COM_ID = #{record.comId,jdbcType=DECIMAL},
      </if>
      <if test="record.bussId != null">
        BUSS_ID = #{record.bussId,jdbcType=DECIMAL},
      </if>
      <if test="record.excCode != null">
        EXC_CODE = #{record.excCode,jdbcType=VARCHAR},
      </if>
      <if test="record.excName != null">
        EXC_NAME = #{record.excName,jdbcType=VARCHAR},
      </if>
      <if test="record.excDesc != null">
        EXC_DESC = #{record.excDesc,jdbcType=VARCHAR},
      </if>
      <if test="record.rcStatus != null">
        RC_STATUS = #{record.rcStatus,jdbcType=DECIMAL},
      </if>
      <if test="record.insertTime != null">
        INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      </if>
      <if test="record.lastModifyTime != null">
        LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE},
      </if>
      <if test="record.operator != null">
        OPERATOR = #{record.operator,jdbcType=VARCHAR},
      </if>
      <if test="record.excNum != null">
        EXC_NUM = #{record.excNum,jdbcType=DECIMAL},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    update T_DEF_TRANSEXC
    set EXC_ID = #{record.excId,jdbcType=DECIMAL},
      IMPL_ID = #{record.implId,jdbcType=DECIMAL},
      COM_ID = #{record.comId,jdbcType=DECIMAL},
      BUSS_ID = #{record.bussId,jdbcType=DECIMAL},
      EXC_CODE = #{record.excCode,jdbcType=VARCHAR},
      EXC_NAME = #{record.excName,jdbcType=VARCHAR},
      EXC_DESC = #{record.excDesc,jdbcType=VARCHAR},
      RC_STATUS = #{record.rcStatus,jdbcType=DECIMAL},
      INSERT_TIME = #{record.insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{record.lastModifyTime,jdbcType=DATE},
      OPERATOR = #{record.operator,jdbcType=VARCHAR},
      EXC_NUM = #{record.excNum,jdbcType=DECIMAL}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.sinosoft.ummp.domain.model.TDefTransexc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    update T_DEF_TRANSEXC
    <set>
      <if test="implId != null">
        IMPL_ID = #{implId,jdbcType=DECIMAL},
      </if>
      <if test="comId != null">
        COM_ID = #{comId,jdbcType=DECIMAL},
      </if>
      <if test="bussId != null">
        BUSS_ID = #{bussId,jdbcType=DECIMAL},
      </if>
      <if test="excCode != null">
        EXC_CODE = #{excCode,jdbcType=VARCHAR},
      </if>
      <if test="excName != null">
        EXC_NAME = #{excName,jdbcType=VARCHAR},
      </if>
      <if test="excDesc != null">
        EXC_DESC = #{excDesc,jdbcType=VARCHAR},
      </if>
      <if test="rcStatus != null">
        RC_STATUS = #{rcStatus,jdbcType=DECIMAL},
      </if>
      <if test="insertTime != null">
        INSERT_TIME = #{insertTime,jdbcType=DATE},
      </if>
      <if test="lastModifyTime != null">
        LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE},
      </if>
      <if test="operator != null">
        OPERATOR = #{operator,jdbcType=VARCHAR},
      </if>
      <if test="excNum != null">
        EXC_NUM = #{excNum,jdbcType=DECIMAL},
      </if>
    </set>
    where EXC_ID = #{excId,jdbcType=DECIMAL}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sinosoft.ummp.domain.model.TDefTransexc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Sep 01 11:09:07 CST 2016.
    -->
    update T_DEF_TRANSEXC
    set IMPL_ID = #{implId,jdbcType=DECIMAL},
      COM_ID = #{comId,jdbcType=DECIMAL},
      BUSS_ID = #{bussId,jdbcType=DECIMAL},
      EXC_CODE = #{excCode,jdbcType=VARCHAR},
      EXC_NAME = #{excName,jdbcType=VARCHAR},
      EXC_DESC = #{excDesc,jdbcType=VARCHAR},
      RC_STATUS = #{rcStatus,jdbcType=DECIMAL},
      INSERT_TIME = #{insertTime,jdbcType=DATE},
      LAST_MODIFY_TIME = #{lastModifyTime,jdbcType=DATE},
      OPERATOR = #{operator,jdbcType=VARCHAR},
      EXC_NUM = #{excNum,jdbcType=DECIMAL}
    where EXC_ID = #{excId,jdbcType=DECIMAL}
  </update>
  

   <!-- 查询总数 -->
  <select id="countTransport" resultType="java.lang.Integer">
  			select count(1) from t_def_transexc a,t_def_plat_com b where a.com_id=b.com_id
  			 <if test="transportType!=null and transportType!=''">
                 and a.exc_code like   '%' || #{transportType} || '%' 
            </if> 
		  	<if test="transportDesc!=null and transportDesc!=''">
		         and a.exc_desc like   '%' || #{transportDesc} || '%'
		    </if> 
		    <if test="comId!=null and comId!=''">
                 and a.com_id = #{comId}
            </if> 
  </select>
  
  <!-- 分页查询 -->
  <select id="getTransportInfoList" parameterType="java.util.Map" resultType="java.util.Map">
  	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (		
				    select distinct
					    a.exc_id "excId", 
					    a.exc_code "excCode", 
					    a.exc_desc "excDesc",
					    a.exc_num "exc_num",
					    a.com_id "com_id",
					    DECODE(a.rc_status,1,'有效',0,'无效') "rc_status",
					    b.com_name "comName"
					from t_def_transexc a,t_def_plat_com b
					where 1 = 1 
					and a.com_id=b.com_id
					<if test="transportType!=null and transportType!=''">
		                 and a.exc_code like   '%' || #{transportType} || '%' 
		            </if> 
		            <if test="comId!=null and comId!=''">
		                 and a.com_id = #{comId}
		            </if> 
				  	<if test="transportDesc!=null and transportDesc!=''">
				         and a.exc_desc like   '%' || #{transportDesc} || '%'
				    </if> 
					order by a.exc_id desc
		  	 ) nAlias
		) tAlias where r_rownum &gt;=#{queryStartIndex} and #{queryEndIndex} &gt;= r_rownum
  </select>
  <select id="queryListInfo" parameterType="java.util.Map" resultType="java.util.Map">
				    select distinct
					    a.exc_id "excId", 
					    a.exc_code "excCode", 
					    a.exc_desc "excDesc",
					    a.exc_num "exc_num",
					    a.com_id "com_id",
					    b.com_name "comName"
					from t_def_transexc a,t_def_plat_com b
					where 1 = 1 
					and a.com_id=b.com_id
					<if test="comId != null and comId != ''">
		            	and a.com_id = #{comId}
					</if>
  </select>
  
  
  <sql id="dataTransportCondition">
  	<if test="id!=null and id!=''">
  		and  c.exc_id = ${id}
  	</if>
  </sql>
  
  <!-- 传输配置前查询总数 -->
  <select id="dataTransportAgoTableCounts" resultType="java.lang.Integer">
				select 
					count(1)
				from T_DEF_TRANSEXC_BEFORE a
				left join t_def_sql b on a.sql_id = b.sql_id 
				left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
				LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
				left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
				left join t_def_sql_info f on f.sql_id = b.sql_id 
				where b.sub_buss_type = 'DATA_TRANSPORT_AGO_CONFIG'
				<include refid="dataTransportCondition" />
				order by a.id desc
  </select>
  
  <!-- 传输配置前分页查询 -->
  <select id="dataTransportAgoTableList" parameterType="java.util.Map" resultType="java.util.Map">
  	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (		
				    select 
					       a.id "id",   
					       b.sql_id "sqlId", 
					       c.exc_code "exeCode", 
					       a.exc_num "excNum",   
					       e.jdbc_name   "dsName" ,
					       d.code_alias "codeAlias",
					       f.sql_info "sqlInfo" ,
					       b.sql_desc "sqlDesc"
					from T_DEF_TRANSEXC_BEFORE a
					left join t_def_sql b on a.sql_id = b.sql_id 
					left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
					LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
					left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
					left join t_def_sql_info f on f.sql_id = b.sql_id 
					where b.sub_buss_type = 'DATA_TRANSPORT_AGO_CONFIG'
					<include refid="dataTransportCondition" />
					order by a.exc_num 
		  	 ) nAlias
		) tAlias where r_rownum &gt;=#{queryStartIndex} and #{queryEndIndex} &gt;= r_rownum
  </select>
  
  
  <!-- 传输配置中查询总数 -->
  <select id="dataTransportConfigTableCounts" resultType="java.lang.Integer">
			select 
			    count(1)
			from T_DEF_TRANSEXC_ACTION a
			left join t_def_sql b on a.sql_id = b.sql_id 
			left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
			LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
			left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
			where b.sub_buss_type = 'DATA_TRANSPORT_CONFIG'
			<include refid="dataTransportCondition" />
			order by a.id desc 
  </select>
  
  <!-- 传输配置中分页查询 -->
  <select id="dataTransportConfigTableList" parameterType="java.util.Map" resultType="java.util.Map">
  	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (		
				    select 
					       a.id "id",   
					       c.exc_code "exeCode",
					       b.sql_id "sqlId", 
					       a.exc_num "excNum",   
					       e.jdbc_name   "dsName"  , 
					       b.sql_into "targetDBName",                      
					       b.sql_into_target_table "targetTableName",
					       d.code_alias "codeAlias", 
					       b.sql_desc "sqlDesc",
					       to_char(b.last_modify_time,'YYYY-MM-DD') "lastTime"
					from T_DEF_TRANSEXC_ACTION a
					left join t_def_sql b on a.sql_id = b.sql_id 
					left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
					LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
					left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
					where b.sub_buss_type = 'DATA_TRANSPORT_CONFIG'
					<include refid="dataTransportCondition" />
					order by a.exc_num 
		  	 ) nAlias
		) tAlias where r_rownum &gt;=#{queryStartIndex} and #{queryEndIndex} &gt;= r_rownum
  </select>
  
  <!-- 传输配置后查询总数 -->
  <select id="dataTransportAfterTableCounts" resultType="java.lang.Integer">
			select 
					count(1)
			from T_DEF_TRANSEXC_AFTER a
			left join t_def_sql b on a.sql_id = b.sql_id 
			left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
			LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
			left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
			left join t_def_sql_info f on f.sql_id = b.sql_id 
			where b.sub_buss_type = 'DATA_TRANSPORT_AFTER_CONFIG'
			<include refid="dataTransportCondition" />
			order by a.id desc
  </select>
  
  <!-- 传输配置后分页查询 -->
  <select id="dataTransportAfterTableList" parameterType="java.util.Map" resultType="java.util.Map">
  	select tAlias.* from
		(
	         select nAlias.*, rownum r_rownum from
	         (		
				    select 
					       a.id "id",   
					       b.sql_id "sqlId", 
					       c.exc_code "exeCode", 
					       a.EXC_NUM "excNum", 
					       e.jdbc_name   "dsName" ,
					       d.code_alias "codeAlias",
					       f.sql_info "sqlInfo" ,
					       b.sql_desc "sqlDesc"
					from T_DEF_TRANSEXC_AFTER a
					left join t_def_sql b on a.sql_id = b.sql_id 
					left join T_DEF_TRANSEXC c on a.exc_id = c.exc_id
					LEFT JOIN t_def_code_dict d ON d.code = b.es_status and d.code_type='USER_STATUS'
					left join t_def_jdbc e on e.id = b.sql_from_jdbc_id
					left join t_def_sql_info f on f.sql_id = b.sql_id 
					where b.sub_buss_type = 'DATA_TRANSPORT_AFTER_CONFIG'
					<include refid="dataTransportCondition" />
					order by a.EXC_NUM
		  	 ) nAlias
		) tAlias where r_rownum &gt;=#{queryStartIndex} and #{queryEndIndex} &gt;= r_rownum
  </select>
  <select id="selectTransType" parameterType="java.util.Map" resultType="java.util.Map">
  	SELECT DISTINCT EXC_CODE, EXC_DESC FROM T_DEF_TRANSEXC WHERE 1=1
  	<if test="comId != null">
  		and COM_ID =#{comId,jdbcType=DECIMAL}
  	</if>
  </select>
    <!-- 根据平台获取传输 -->
  <select id="getTransByComId" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
    select distinct 
    <include refid="Base_Column_List" />
    from T_DEF_TRANSEXC
    where com_id = #{comId,jdbcType=DECIMAL}
    and rc_status = '1'
    and exc_num is not null
    order by exc_num
  </select>
</mapper>